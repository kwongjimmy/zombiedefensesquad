<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_zombiec</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_xscale = 2;
image_yscale = 2;
image_speed = 0.25;
depth = -10;
z_nodamage = false;;
z_avoid = irandom(1);
z_missle = false;
z_health = 1 + random(global.z_diff) + (global.bulletdamage*global.z_diff)*0.35; //HEALTH
z_maxhealth = z_health;
z_ai = random(3); //IF 1 chase player, else move straight
if(z_ai &lt; 1) {
    alarm[0] = 5;
}

sprite_index = s_zombiecmovement;

/*if(z_health &gt; 1) {   
    if(z_health &gt; 2) {
        image_index = 2;
    }
    else {
        image_index = z_health;
    }
}*/

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>riflechance = irandom(global.rifle_droprate);
medkitchance = irandom(global.medkit_droprate);
bazookachance = irandom(global.bazooka_droprate);
magazinechance = irandom(global.magazine_droprate);
powerupchance = irandom(global.powerup_droprate);
carrotchance = irandom(global.carrot_droprate);

if(riflechance &lt; 1) {
    instance_create(x+10, y+20, o_rifle);
}
else if(bazookachance &lt; 1) {
    instance_create(x+10, y+20, o_bazooka);
}
else if(carrotchance &lt; 2) {
    instance_create(x+10, y+20, o_carrot);
}

if(medkitchance &lt; 1) {
    instance_create(x+10, y+20, o_medkit);
}
if(powerupchance &lt; 2) {
    instance_create(x+10, y+20, o_powerup);
}
if(global.playerstate != global.pistol &amp;&amp; magazinechance &lt; 1) {
    instance_create(x+10, y+20, o_magazine);
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z_nodamage = false;;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z_missle = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[0] = room_speed/2;
if(random(5) &gt; 2 &amp;&amp; x &lt; 550 &amp;&amp; place_free(x+6,y))
{
    x += 6;
}
else if(random(5) &gt; 2 &amp;&amp; x &gt; 30 &amp;&amp; place_free(x-6,y+5)){
    x -= 6;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if(z_ai &gt; 1) {
    move_towards_point(o_kat1.x,o_kat1.y,2);
    y+= global.movementspeed + global.walkingdisy - 2 + global.z_diff*0.1;
    //x+=global.walkingdisx;
}
else {
    y+= global.movementspeed + global.walkingdisy;
    //x+=global.walkingdisx;
}

if(global.z_spawn &lt; 1) {
    instance_destroy();
}

if( x &gt; 555) x -=5;
if( x &lt; 5) x +=5;

if (y &gt; room_height + 10 || x &gt; room_width + 25 || x &lt; -25 ) {
    instance_destroy();
}

if(distance_to_object(o_explosion) &lt; 1 ){
    z_health -= (1.5+global.bulletdamage*0.35);
    //z_missle = true;
    //alarm[1] = room_speed*1.5
}

if(distance_to_object(o_explosion1) &lt; 1 &amp;&amp; z_missle == false){
    z_health -= z_maxhealth/3
    z_missle = true;
    alarm[1] = room_speed*1.5
}

if(distance_to_object(o_tree) &lt; 7 || distance_to_object(o_treestump) &lt; 7) {
    if(z_avoid &lt; 1)x+=5;
    else x+=-5;
}

if(z_health &lt;= 0){

    //instance_change(o_blood, true);
    instance_create(x, y, o_blood);
    //sprite_index = s_blood;
    score += 100;
    instance_destroy();
    //alarm[1] = room_speed;
    //global.z_counter += 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_carrotatk">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!z_nodamage) {
    z_health -= (3 + global.bulletdamage*3.5);
    z_nodamage = true;
    alarm[2] = room_speed/3;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!z_nodamage) {
    if(global.playerstate != global.rifle) {
        z_health -= (1 + global.bulletdamage*4.5);
        with (other) instance_destroy();
        //z_nodamage = true;
        //alarm[2] = room_speed/3;
    }
    else {
        z_health -= (1 + global.bulletdamage*2.5);
        z_nodamage = true;
        alarm[2] = room_speed/3;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
draw_healthbar(x+10,y-10,x+55, y-5, (z_health/z_maxhealth)*100, c_black, c_red, c_green, 0, true, false);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
