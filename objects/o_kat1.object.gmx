<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_kat1movement</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_xscale = 2;
image_yscale = 2;
image_speed = 0.25; 
depth = -10;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>lives -= 1;
if(lives &gt; -1){
    global.health = 11;
    global.blinking = true;
    global.blinking_counter = room_speed * 5;
    instance_create(288, 704, o_kat1);
}
else {
    audio_stop_sound(sound0_bgm);
    highscore_add("Player", score);
    room_goto(r_0);
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sprite_index = s_kat1car
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//shoot
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.x = x;
global.y = y;
if(global.blinking) {
    var blink_i = floor(current_time/ global.blinking_time);
    if(blink_i % 2 == 0) {
        visible = false;
        if(global.blinking_counter &lt; 0) {
            global.blinking = false;
        }
        global.blinking_counter -= 2;
    }
    else {
        visible = true;
    }
 }
else {
    visible = true;
}

if(global.ammo &lt;= 0){
    sprite_index = s_kat1movement;
    global.playerstate = global.pistol;
    global.uistate = 'Pistol';
    global.uiammo = 'INF';
}

else {
    switch(global.playerstate){
        case global.pistol:  sprite_index = s_kat1movement; break;
        case global.rifle: sprite_index = s_kat1movement; break;
        case global.bazooka: sprite_index = s_kat1ba; break;
        case global.carrot: sprite_index = s_kat1car; break;
     };
}

    if(keyboard_check(vk_down) || keyboard_check(vk_up) || keyboard_check(vk_left) || keyboard_check(vk_right))
    {
        global.walking = true;
        if keyboard_check(vk_down) &amp;&amp; place_free(x,y+5) &amp;&amp; y &lt; 765{
            y+=10
        }
        if keyboard_check(vk_up) &amp;&amp; place_free(x,y-5) &amp;&amp; y &gt; 25 {
            //background_vspeed[0] = 2;
            //global.walkingdisy = 2;
            y-=8
        }
        if keyboard_check(vk_right) &amp;&amp; place_free(x+5,y) &amp;&amp; x &lt; 570{
            //background_hspeed[0] = -2;
            //global.walkingdisx = -2;
            x+=8
        }
        if keyboard_check(vk_left) &amp;&amp; place_free(x-5,y) &amp;&amp; x &gt; 30 {
            //background_hspeed[0] = 2;
            //global.walkingdisx = 2;
            x-=8
        }
    }
    else {
        //global.walking = false;
        //background_hspeed[0] = 0;
        //global.walkingdisx = 0;
        //global.walkingdisy = 0;
    }
    
if (keyboard_check(ord("Z"))){
    if (alarm[0] &lt; 0) {
        alarm[0] = 10; 
        if(global.playerstate == global.pistol) {
            instance_create(x, y-30, o_bullet);
            audio_play_sound(sound0_gunsilencer, 0, 0);
        }
        else if(global.playerstate == global.rifle) {
            instance_create(x, y-30, o_bullet);
            global.ammo -= 1;
            global.uiammo = global.ammo;
            audio_play_sound(sound0_rifle, 0, 0);
        }
        else if(global.playerstate == global.bazooka) {
            instance_create(x, y-30, o_bamissle);
            global.ammo -= 1;
            global.uiammo = global.ammo;
            audio_play_sound(sound0_bazooka2, 0, 0);
        }
        else if(global.playerstate == global.carrot) {
            instance_create(x,y-65, o_carrotatk);
            audio_play_sound(sound0_carrot, 0, 0);
            global.ammo -= 1;
            global.uiammo = global.ammo;
            sprite_index = s_kat1caratk;
            alarm[1] = 20;
        }
    }
}

//DAMAGE 
if(distance_to_object(o_explosion1) &lt; 1){
    if(!global.blinking) {
    global.health -= 1;  
    global.blinking = true;
    global.blinking_counter = room_speed * 1.5;        
    }         
    if (global.health &lt; 0) {                 
        instance_destroy();              
}
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_zombier">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!global.blinking) {
    global.health -= 1;  
    global.blinking = true;
    global.blinking_counter = room_speed * 1.5;        
}         
 
if (global.health &lt; 0) {                 
    instance_destroy();              
}
with (other) instance_destroy(); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_zombiec">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!global.blinking) {
    global.health -= 1;  
    global.blinking = true;
    global.blinking_counter = room_speed * 1.5;        
}         
 
if (global.health &lt; 0) {                 
    instance_destroy();              
}
with (other) instance_destroy(); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_zombieb">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!global.blinking) {
    global.health -= 1;  
    global.blinking = true;
    global.blinking_counter = room_speed * 1.5;        
}         
 
if (global.health &lt; 0) {                 
    instance_destroy();              
}
with (other) instance_destroy(); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
